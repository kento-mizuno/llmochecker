# LLMO無料診断 要件定義書

## 概要

本システムは、toBtoCサービスのウェブサイト担当者および経営者を対象とした、AI検索（LLMO: Large Language Model Optimization）における可視性評価ツールです。URLを入力するだけで、サイトのAI検索対策の充実度を多面的に診断し、改善提案を提供します。

## ユーザストーリー

### ストーリー1: 簡単なLLMO診断

- **である** ウェブサイト担当者 **として**
- **私は** URLを入力するだけでLLMO対策の状況を把握 **したい**
- **そうすることで** AI検索での可視性向上のための改善点を明確にできる

### ストーリー2: 詳細な評価レポート

- **である** 経営者 **として**
- **私は** 自社サイトのAI検索対策の現状を理解 **したい**
- **そうすることで** 適切な改善施策の意思決定ができる

### ストーリー3: 競合との比較

- **である** マーケティング担当者 **として**
- **私は** 競合サイトとの比較分析を行い **たい**
- **そうすることで** 差別化ポイントと改善優先度を把握できる

## 機能要件（EARS記法）

### 通常要件

- REQ-001: システムは、ユーザーが入力したURLのサイト構造とHTMLソースを自動的に取得しなければならない
- REQ-002: システムは、取得したサイト情報を18項目のチェックリストに基づいて評価しなければならない
- REQ-003: システムは、各評価項目について「合格」「不合格」「改善の余地あり」の3段階で判定しなければならない
- REQ-004: システムは、総合スコア（100点満点）を算出しなければならない
- REQ-005: システムは、評価結果を視覚的に分かりやすいレポート形式で表示しなければならない
- REQ-006: システムは、各評価項目について具体的な改善提案を提供しなければならない
- REQ-007: システムは、入力されたURLと診断結果を保持し、それ以外の個人情報は保存してはならない

### 条件付き要件

- REQ-101: URLが有効でない場合、システムはエラーメッセージを表示し、再入力を促さなければならない
- REQ-102: サイトがクロール拒否設定（robots.txt）をしている場合、システムは制限付き評価モードで動作しなければならない
- REQ-103: HTTPSでない場合、システムは信頼性項目で自動的に減点しなければならない
- REQ-104: 構造化データが存在しない場合、システムは実装方法のガイドを表示しなければならない
- REQ-105: llms.txtが存在しない場合、システムは設置方法と推奨内容を提案しなければならない

### 状態要件

- REQ-201: 分析中の状態にある場合、システムは進捗状況をプログレスバーで表示しなければならない
- REQ-202: エラー状態にある場合、システムは具体的なエラー内容と対処法を表示しなければならない
- REQ-203: 評価完了状態にある場合、システムはレポートをHTMLで表示しなければならない

### オプション要件

- REQ-301: システムは、過去の診断履歴を一時的に表示してもよい（ブラウザセッション内のみ）
- REQ-302: システムは、業界別のベンチマークと比較してもよい
- REQ-303: システムは、複数URLの一括診断機能を提供してもよい
- REQ-304: システムは、改善提案の優先順位付けを行ってもよい

### 制約要件

- REQ-401: システムは、1回の診断を3分以内に完了しなければならない
- REQ-402: システムは、診断データをURLと診断結果のみに限定して管理しなければならない
- REQ-403: システムは、完全無料で提供されなければならない
- REQ-404: システムは、最新のLLMO評価基準に基づいて判定しなければならない

## 非機能要件

### パフォーマンス

- NFR-001: 平均的なウェブサイト（100ページ程度）の診断を3分以内に完了すること
- NFR-002: 同時に50ユーザーのリクエストを処理できること
- NFR-003: レスポンスタイムは95パーセンタイルで5秒以内であること

### セキュリティ

- NFR-101: すべての通信はHTTPS経由で行われること
- NFR-102: 診断対象サイトへのアクセスは読み取り専用であること
- NFR-103: 個人情報は一切保存しないこと（URLと診断結果のみ保持）
- NFR-104: SQLインジェクションやXSS攻撃への対策が実装されていること

### ユーザビリティ

- NFR-201: URLを入力してから診断開始まで2クリック以内で実行できること
- NFR-202: 診断結果は専門知識がなくても理解できる表現で提供すること
- NFR-203: モバイルデバイスでも快適に利用できること
- NFR-204: 日本語で提供すること

### 可用性

- NFR-301: システムの稼働率は99%以上であること
- NFR-302: 計画メンテナンス時間は月4時間以内であること

## 評価項目詳細

### E-E-A-T（最重要カテゴリ）

1. **経験（Experience）の明示**
   - 一次情報や実体験に基づくコンテンツの有無を評価
   - 著者の実体験が明記されているかをチェック

2. **専門性（Expertise）の証明**
   - 著者や監修者の専門資格の明記を確認
   - 専門的な内容の正確性を評価

3. **権威性（Authoritativeness）の構築**
   - 第三者からの言及の有無を確認
   - 権威あるサイトからの被リンクを評価

4. **信頼性（Trustworthiness）の確保**
   - HTTPS化の状況を確認
   - 運営者情報の明記を評価
   - 情報の引用元の正確性をチェック

### エンティティ（最重要カテゴリ）

5. **ナレッジグラフでの存在感**
   - Googleナレッジパネルへの登録状況を確認

6. **NAP情報の一貫性**
   - 企業名、住所、電話番号の一貫性を評価

### 品質と独創性（最重要カテゴリ）

7. **コンテンツの独創性**
   - 独自調査や一次情報の含有を評価

8. **情報の正確性と検証可能性**
   - 信頼できる情報源への引用を確認
   - 出典の明記状況を評価

### AIフレンドリーなフォーマット（重要カテゴリ）

9. **Q&Aフォーマットの活用**
   - 質問と回答形式のコンテンツを評価

10. **リスト・表形式の活用**
    - 構造化されたリストや比較表の使用を確認

11. **要約・定義文の提示**
    - 簡潔な定義文や要約の含有を評価

### 文書階層（重要カテゴリ）

12. **論理的な見出し構造（H1-H6）**
    - 見出しタグの階層構造を評価

13. **セマンティックHTMLの活用**
    - article、sectionタグの適切な使用を確認

### 言語の明確性（重要カテゴリ）

14. **結論ファーストの文章構成**
    - 結論が先に述べられているかを評価

### 技術的シグナル（中程度カテゴリ）

15. **構造化データ（Schema.org）**
    - Organization、Person、FAQPageスキーマの実装を確認

16. **クロール容易性**
    - robots.txtの適切な設定を評価
    - XMLサイトマップの設置を確認

17. **ページエクスペリエンス**
    - サイトの表示速度を測定
    - モバイルフレンドリー性を評価

18. **llms.txtの設置**
    - llms.txtファイルの存在を確認

## Edgeケース

### エラー処理

- EDGE-001: 入力されたURLが存在しない場合、適切なエラーメッセージを表示
- EDGE-002: サイトがダウンしている場合、一時的なエラーとして処理
- EDGE-003: リダイレクトループが発生した場合、診断を中止して警告を表示
- EDGE-004: JavaScriptレンダリングが必要なSPAサイトの場合、ヘッドレスブラウザで処理
- EDGE-005: 3分のタイムアウトに達した場合、取得できた情報で部分評価を提供

### 境界値

- EDGE-101: 10,000ページを超える大規模サイトの場合、サンプリング評価を実施
- EDGE-102: 1ページのみのランディングページの場合、適用可能な項目のみで評価
- EDGE-103: パスワード保護されたサイトの場合、公開部分のみで限定評価

### 特殊ケース

- EDGE-201: CDNを使用している場合、オリジンサーバーの情報を正確に取得
- EDGE-202: A/Bテストを実施中のサイトの場合、アクセス時点のバージョンを評価
- EDGE-203: 地域制限があるサイトの場合、アクセス可能な範囲で評価

## 受け入れ基準

### 機能テスト

#### URL入力と検証
- [ ] 有効なURLを入力した場合、診断が開始される
- [ ] 無効なURLを入力した場合、エラーメッセージが表示される
- [ ] HTTPとHTTPSの両方のURLを受け付ける
- [ ] サブドメインを含むURLを正しく処理できる
- [ ] 日本語ドメインを正しく処理できる

#### サイト分析
- [ ] HTMLソースコードを正しく取得できる
- [ ] robots.txtの内容を確認できる
- [ ] サイトマップを検出できる
- [ ] メタタグ情報を抽出できる
- [ ] 構造化データを解析できる

#### 評価処理
- [ ] 18項目すべての評価が実行される
- [ ] 各項目の重要度に応じた重み付けが適用される
- [ ] 総合スコアが0-100の範囲で算出される
- [ ] カテゴリ別のスコアが表示される
- [ ] 3分以内に診断が完了する

#### レポート生成
- [ ] 評価結果が視覚的に表示される（グラフ、チャート）
- [ ] 各項目の詳細な評価理由が表示される
- [ ] 具体的な改善提案が提供される
- [ ] レポートがブラウザ上で閲覧できる

#### エラーハンドリング
- [ ] ネットワークエラー時に適切なメッセージが表示される
- [ ] タイムアウト（3分）時に部分評価結果が表示される
- [ ] 部分的な失敗時でも利用可能な情報で評価を継続する

### 非機能テスト

#### パフォーマンステスト
- [ ] 平均的なサイトの診断が3分以内に完了する
- [ ] 50同時リクエストで安定動作する
- [ ] メモリリークが発生しない
- [ ] CPUリソースを過度に消費しない

#### セキュリティテスト
- [ ] SQLインジェクション攻撃に対して安全である
- [ ] XSS攻撃に対して安全である
- [ ] CSRF攻撃に対して安全である
- [ ] 診断対象サイトに悪影響を与えない
- [ ] URLと診断結果以外の個人情報を保存していないことを確認

#### ユーザビリティテスト
- [ ] 初回利用者が説明なしで診断を実行できる
- [ ] エラーメッセージが分かりやすい
- [ ] モバイルデバイスで問題なく動作する
- [ ] ページ読み込みが5秒以内である

#### 互換性テスト
- [ ] Chrome最新版で動作する
- [ ] Firefox最新版で動作する
- [ ] Safari最新版で動作する
- [ ] Edge最新版で動作する
- [ ] iOS Safari で動作する
- [ ] Android Chrome で動作する

### 統合テスト
- [ ] ベンチマークサイト(https://llmocheck.ai/)との比較評価が可能
- [ ] 複数回の診断で一貫した結果が得られる
- [ ] セッション中の診断履歴が正しく表示される